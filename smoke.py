from chains import Binance
from thorchain import ThorchainState

from common import Transaction, Coin

# A list of smoke test transaction, [inbound txn, expected # of outbound txns]
txns = [
    # Seeding funds to various accounts
    [Transaction(Binance.chain, "MASTER", "MASTER",
        [Coin("BNB", 49730000), Coin("RUNE-A1F", 100000000000), Coin("LOK-3C0", 0)], 
    "SEED"), 0],
    [Transaction(Binance.chain, "MASTER", "USER-1",
        [Coin("BNB", 50000000), Coin("RUNE-A1F", 50000000000), Coin("LOK-3C0", 50000000000)], 
    "SEED"), 0],
    [Transaction(Binance.chain, "MASTER", "STAKER-1",
        [Coin("BNB", 200000000), Coin("RUNE-A1F", 100000000000), Coin("LOK-3C0", 40000000000)], 
    "SEED"), 0],
    [Transaction(Binance.chain, "MASTER", "STAKER-2",
        [Coin("BNB", 200000000), Coin("RUNE-A1F", 50000000000), Coin("LOK-3C0", 10000000000)], 
    "SEED"), 0],

    # Staking
    [Transaction(Binance.chain, "STAKER-1", "VAULT",
        [Coin("BNB", 150000000), Coin("RUNE-A1F", 50000000000)],
    "STAKE:BNB.BNB"), 0],
    [Transaction(Binance.chain, "STAKER-1", "VAULT",
        [Coin("LOK-3C0", 40000000000), Coin("RUNE-A1F", 50000000000)],
    "STAKE:BNB.LOK-3C0"), 0],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 150000000), Coin("RUNE-A1F", 50000000000)],
    ""), 2],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 150000000), Coin("RUNE-A1F", 50000000000)],
    "ABDG?"), 2],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 150000000), Coin("RUNE-A1F", 50000000000)],
    "STAKE:"), 2],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 150000000), Coin("RUNE-A1F", 50000000000)],
    "STAKE:BNB.TCAN-014"), 2],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 150000000), Coin("RUNE-A1F", 50000000000)],
    "STAKE:RUNE-A1F"), 2],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 30000000)],
    "STAKE:BNB.BNB"), 0],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("RUNE-A1F", 10000000000)],
    "STAKE:BNB.BNB"), 0],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 90000000), Coin("RUNE-A1F", 30000000000)],
    "STAKE:BNB.BNB"), 0],

    # Adding
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 30000000), Coin("RUNE-A1F", 5000000000)],
    "ADD:BNB.BNB"), 0],

    # Misc
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("RUNE-A1F", 100000000)],
    " "), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("RUNE-A1F", 100000000)],
    "ABDG?"), 1],

    # Swaps
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("BNB", 1)],
    "SWAP:BNB.BNB"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("BNB", 30000000)],
    "SWAP:BNB.BNB"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("BNB", 30000000), Coin("RUNE-A1F", 100000000)],
    "SWAP:BNB.BNB"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("RUNE-A1F", 1)],
    "SWAP:BNB.BNB"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("RUNE-A1F", 10000000000)],
    "SWAP:BNB.BNB::26572599"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("RUNE-A1F", 10000000000)],
    "SWAP:BNB.BNB"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("BNB", 10000000)],
    "SWAP:BNB.RUNE-A1F"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("RUNE-A1F", 10000000000)],
    "SWAP:BNB.BNB:STAKER-1:23853375"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("RUNE-A1F", 10000000000)],
    "SWAP:BNB.BNB:STAKER-1:22460886"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("BNB", 10000000)],
    "SWAP:BNB.RUNE-A1F:bnbSTAKER-1"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("LOK-3C0", 5000000000)],
    "SWAP:BNB.RUNE-A1F"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("RUNE-A1F", 5000000000)],
    "SWAP:BNB.LOK-3C0"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("LOK-3C0", 5000000000)],
    "SWAP:BNB.BNB"), 1],
    [Transaction(Binance.chain, "USER-1", "VAULT",
        [Coin("BNB", 5000000)],
    "SWAP:BNB.LOK-3C0"), 1],

    # Unstaking (withdrawing)
    [Transaction(Binance.chain, "STAKER-1", "VAULT",
        [Coin("BNB", 1)],
    "WITHDRAW:BNB.BNB:5000"), 2],
    [Transaction(Binance.chain, "STAKER-1", "VAULT",
        [Coin("BNB", 1)],
    "WITHDRAW:BNB.BNB:10000"), 2],
    [Transaction(Binance.chain, "STAKER-2", "VAULT",
        [Coin("BNB", 1)],
    "WITHDRAW:BNB.BNB"), 2],
    [Transaction(Binance.chain, "STAKER-1", "VAULT",
        [Coin("BNB", 1)],
    "WITHDRAW:BNB.LOK-3C0"), 2],
]
